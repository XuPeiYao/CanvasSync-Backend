{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts","webpack:///./src/models/PathData.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","module.exports = \":host {\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n}\\r\\ncanvas {\\r\\n  display: block;\\r\\n}\\r\\n.controls {\\r\\n  height: 25px;\\r\\n  background: #aaaaaa;\\r\\n}\\r\\n.controls > * {\\r\\n  height: 100%;\\r\\n}\\r\\n\"","module.exports = \"<div class=\\\"controls\\\">\\n  <button (click)=\\\"clearHistory()\\\">Clear</button>\\n  <button (click)=\\\"rollback()\\\">Rollback</button>\\n  <button (click)=\\\"setColor()\\\">Color</button>\\n</div>\\n<canvas class=\\\"board\\\" #board></canvas>\\n<ngx-loading [show]=\\\"!isConnect\\\"></ngx-loading>\\n\"","import {\n  Component,\n  ElementRef,\n  ViewChild,\n  OnInit,\n  HostListener\n} from '@angular/core';\nimport { Observable, fromEvent } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport { Point } from '../models/Point';\nimport {\n  HubConnectionBuilder,\n  HubConnection,\n  HttpTransportType\n} from '@aspnet/signalr';\nimport { PathData } from '../models/PathData';\n\n/*\nconst { remote } = window['require']('electron');\nconst { Menu, MenuItem } = remote;\n*/\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n  @ViewChild('board')\n  public mainBoardElement: ElementRef;\n\n  public canvasContext: CanvasRenderingContext2D;\n\n  private historyPaths: PathData[] = [];\n  private selfCurrentPath: PathData = new PathData();\n  private currentPaths: { [key: string]: PathData } = {};\n  private selfColor;\n  private playLocked: boolean;\n  private isConnect = false;\n  connection: HubConnection;\n  @HostListener('window:focus')\n  onFocus() {\n    /*\n    console.log('focus');\n    const menu = Menu.buildFromTemplate([\n      {\n        label: '編輯',\n        submenu: [\n          {\n            id: 'undo',\n            label: '復原',\n            click: () => {\n              if (\n                this.selfCurrentPath &&\n                this.selfCurrentPath.path.length === 0\n              ) {\n                this.historyPaths.pop();\n              } else {\n                this.selfCurrentPath = new PathData();\n              }\n              this.draw();\n            }\n          }\n        ]\n      }\n    ]);\n\n    Menu.setApplicationMenu(menu);*/\n  }\n\n  setColor() {\n    this.selfColor = prompt('請輸入色碼', '#ff0000');\n    this.selfCurrentPath.color = this.selfColor;\n  }\n\n  rollback() {\n    if (this.selfCurrentPath && this.selfCurrentPath.path.length) {\n      this.selfCurrentPath = new PathData();\n      this.connection.invoke('updateCurrent', this.selfCurrentPath);\n    } else {\n      this.connection.invoke('rollback');\n    }\n  }\n\n  clearHistory() {\n    this.connection.invoke('clearHistory');\n  }\n\n  ngOnInit(): void {\n    this.mainBoardElement.nativeElement.width =\n      window.document.body.offsetWidth;\n    this.mainBoardElement.nativeElement.height =\n      window.document.body.offsetHeight - 25;\n    this.canvasContext = this.mainBoardElement.nativeElement.getContext(\n      '2d'\n    ) as CanvasRenderingContext2D;\n    fromEvent(this.mainBoardElement.nativeElement, 'mousemove').subscribe(\n      (x: MouseEvent) => {\n        switch (x.buttons) {\n          case 0: // 提起\n            if (this.selfCurrentPath.path.length) {\n              this.selfCurrentPath = new PathData();\n              this.selfCurrentPath.color = this.selfColor;\n              this.connection.invoke('pushCurrent');\n              this.connection.invoke('updateCurrent', this.selfCurrentPath);\n            }\n            break;\n          case 1: // 左鍵\n            this.selfCurrentPath.path.push({\n              x: x.offsetX,\n              y: x.offsetY\n            });\n            this.selfCurrentPath.timing.push(x.timeStamp);\n\n            this.connection.invoke('updateCurrent', this.selfCurrentPath);\n            break;\n          case 2: // 右鍵\n            break;\n        }\n        this.draw();\n      }\n    );\n    fromEvent<MouseEvent>(this.mainBoardElement.nativeElement, 'mousedown')\n      .pipe(filter(x => x.buttons === 1))\n      .subscribe(x => {\n        if (this.selfCurrentPath.path.length === 0) {\n          this.selfCurrentPath.path.push({ x: x.offsetX, y: x.offsetY });\n          this.selfCurrentPath.path.push({ x: x.offsetX, y: x.offsetY });\n\n          this.selfCurrentPath.timing.push(x.timeStamp, x.timeStamp);\n          this.draw();\n          this.connection.invoke('updateCurrent', this.selfCurrentPath);\n        }\n      });\n\n    this.connection = new HubConnectionBuilder()\n      .withUrl('sync' /*, HttpTransportType.LongPolling*/)\n      .build();\n\n    this.connection.on('allHistory', data => {\n      this.historyPaths = data;\n      this.draw();\n    });\n\n    this.connection.on('updateCurrent', (id, data) => {\n      this.currentPaths[id] = data;\n      this.draw();\n    });\n\n    this.connection.on('addHistory', data => {\n      this.historyPaths.push(data);\n      console.log(this.historyPaths);\n      this.draw(); // 重繪\n    });\n\n    this.connection.on('removeLastHistory', data => {\n      this.historyPaths.pop();\n      this.draw(); // 重繪\n    });\n\n    this.connection.on('clearHistory', data => {\n      this.historyPaths = [];\n      this.draw(); // 重繪\n    });\n\n    this.connection.start().then(() => {\n      console.log('連線成功');\n      this.isConnect = true;\n    });\n  }\n\n  public draw() {\n    this.canvasContext.clearRect(\n      0,\n      0,\n      this.mainBoardElement.nativeElement.width,\n      this.mainBoardElement.nativeElement.height\n    );\n\n    for (const path of this.historyPaths) {\n      this.canvasContext.beginPath();\n      this.canvasContext.lineWidth = 3;\n      this.canvasContext.lineCap = 'square';\n      this.canvasContext.strokeStyle = path.color || '#ff0000';\n      for (let i = 0; i < path.path.length - 1; i++) {\n        this.canvasContext.moveTo(path.path[i].x, path.path[i].y);\n        this.canvasContext.lineTo(path.path[i + 1].x, path.path[i + 1].y);\n      }\n      this.canvasContext.stroke();\n    }\n\n    // tslint:disable-next-line:forin\n    for (const pathKey in this.currentPaths) {\n      this.canvasContext.beginPath();\n      this.canvasContext.lineWidth = 3;\n      this.canvasContext.lineCap = 'square';\n      this.canvasContext.strokeStyle =\n        this.currentPaths[pathKey].color || '#ff0000';\n\n      for (let i = 0; i < this.currentPaths[pathKey].path.length - 1; i++) {\n        this.canvasContext.moveTo(\n          this.currentPaths[pathKey].path[i].x,\n          this.currentPaths[pathKey].path[i].y\n        );\n        this.canvasContext.lineTo(\n          this.currentPaths[pathKey].path[i + 1].x,\n          this.currentPaths[pathKey].path[i + 1].y\n        );\n      }\n      this.canvasContext.stroke();\n    }\n\n    this.canvasContext.beginPath();\n    this.canvasContext.lineWidth = 3;\n    this.canvasContext.lineCap = 'square';\n    this.canvasContext.strokeStyle = this.selfCurrentPath.color || '#ff0000';\n    for (let i = 0; i < this.selfCurrentPath.path.length - 1; i++) {\n      this.canvasContext.moveTo(\n        this.selfCurrentPath.path[i].x,\n        this.selfCurrentPath.path[i].y\n      );\n      this.canvasContext.lineTo(\n        this.selfCurrentPath.path[i + 1].x,\n        this.selfCurrentPath.path[i + 1].y\n      );\n    }\n    this.canvasContext.stroke();\n  }\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppComponent } from './app.component';\nimport { LoadingModule } from 'ngx-loading';\n@NgModule({\n  declarations: [AppComponent],\n  imports: [BrowserModule, LoadingModule],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * In development mode, for easier debugging, you can ignore zone related error\n * stack frames such as `zone.run`/`zoneDelegate.invokeTask` by importing the\n * below file. Don't forget to comment it out in production mode\n * because it will have a performance impact when errors are thrown\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n","import { Point } from './Point';\r\n\r\nexport class PathData {\r\n  public path: Point[] = [];\r\n  public timing: number[] = [];\r\n  public color = '#ff0000';\r\n}\r\n"],"sourceRoot":""}